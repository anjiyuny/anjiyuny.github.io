---
title:  "[JS Basic] 22.EventBubbling app."
date:   2023-03-14
categories: [study]
tags: [JS Basic]
---
<br>

### 📂 이벤트버블링 응용해보기 

이벤트버블링을 활용하면 이벤트리스너를 줄여 개발할 수 있다.   

▼ for문 사용한 Tab기능 함수로 축약해보기

```js
var btn = $('.tab-button');
var content = $('.tab-content');
const count = document.getElementsByClassName('list')[0].childElementCount;

for(let i = 0; i <= count; i++){
    btn.eq(i).on('click', function(){
        openTab(i)
    });
    
}

function openTab(num){
    console.log(num);
    btn.removeClass('orange');
    btn.eq(num).addClass('orange');
    
    content.removeClass('show');
    content.eq(num).addClass('show');
}
```
이 코드는 `이벤트 버블링` 때문에 이벤트 리스너가 li의 개수만큼 실행되고 있다.    
이러면 성능면에서 좋지 않기때문에 li의 부모인 ul에 이벤트리스너를 부착하면 된다.      
(이유는 이벤트버블링이 일어나기 때문에 li를 클릭해도 결국 ul을 클릭한게 되기 떄문이다.)

```js
var btn = $('.tab-button');
var content = $('.tab-content');
const count = document.getElementsByClassName('list')[0].childElementCount;

$('.list').click(function(e){
    // openTab(0);
    openTab(e.target.dataset.id);
    // 숫자로 바꾸면 더 정확
});


function openTab(num){
    console.log(num);
    btn.removeClass('orange');
    btn.eq(num).addClass('orange');
    
    content.removeClass('show');
    content.eq(num).addClass('show');
}
```


