---
title:  "[JS Basic] 32.LocalStorage02."
date:   2023-04-10
categories: [study]
tags: [JS Basic]
---
<br>

### ğŸ“‚ Local Storage : ì‘ìš©ë¬¸ì œ

Local Storage01 ì˜ ì¥ë°”êµ¬ë‹ˆ ì½”ë“œë¥¼ ì‘ìš©í•´ì„œ ê°™ì€ ìƒí’ˆ êµ¬ë§¤ ëˆ„ë¥´ë©´ ìƒí’ˆ ê°¯ìˆ˜ê°€ ì˜¬ë¼ê°€ê²Œ í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ë³¸ë‹¤.

<br>

#### ğŸ“Œ ì¶œë ¥ì˜ˆì‹œ
local storageì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•œë‹¤.    
    [ {title : 'ìƒí’ˆëª…a', num : 2}, {title : 'ìƒí’ˆëª…b', num : 4}  ... ] 

<br>

#### ğŸ“Œ ì½”ë“œ

```js
    $('.buy').click(function(e){ // êµ¬ë§¤ ë²„íŠ¼ì— click ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ë•Œ
        var title = $(e.target).siblings('h5').text();
        // h5 ì°¾ì•„ì„œ ë³€ìˆ˜ title ì— í• ë‹¹
        
        if(localStorage.cart == null){ // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ê°€ ë¹„ì–´ìˆìœ¼ë©´
            localStorage.setItem('cart', JSON.stringify([{title: title, num : 1}]));
            // ë°°ì—´ ë§Œë“¤ì–´ì„œ ë„£ê³ 
        }
        else{ // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë°°ì—´ì´ ìˆìœ¼ë©´
            var cartItem = JSON.parse(localStorage.cart);
            // ê·¸ ë°°ì—´ì„ êº¼ë‚´ì„œ ì° ë°°ì—´ë¡œ ë§Œë“¤ì–´ output ë³€ìˆ˜ì— í• ë‹¹
            
            var exsItem = outPut.find(function(item){
            return item.title === title;
            // í´ë¦­í•œ ìƒí’ˆì´ ì´ë¯¸ ì¹´íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸í•œë‹¤
            });
            
            if(exsItem){ // ì´ë¯¸ ì¹´íŠ¸ì— ìƒí’ˆì´ ìˆë‹¤ë©´
                    exsItem.num++; 
                    // ë°°ì—´ exsItem ì˜ num ê°’ì„ 1ë”í•˜ê³ 
                }else{ // ê¸°ì¡´ ë°°ì—´ì¤‘ ê°™ì€ê²ƒì´ ì—†ì„ë•Œ
                    cartItem.push({title : title, num : 1});
                    // í´ë¦­í•œ ìƒí’ˆì„ ìƒˆë¡œìš´ ì•„ì´í…œìœ¼ë¡œ ì¶”ê°€í•˜ê³  ìˆ˜ëŸ‰ì„ 1ë¡œ ì„¤ì •
                };
                
                localStorage.setItem('cart', JSON.stringify(cartItem));
                // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ìƒˆë¡œìš´ ë°°ì—´ì„ ë‹¤ì‹œ ë¬¸ìí™” í•´ì„œ ì €ì¥
            }
    });
```

<br>

#### ğŸ“Œ find()

find() í•¨ìˆ˜ëŠ” ë°°ì—´ì—ì„œ ì¡°ê±´ì´ ë§ëŠ” ì²«ë²ˆì§¸ ìš”ì†Œë¥¼ ì°¾ì•„ ë°˜í™˜í•˜ëŠ” ë°°ì—´ ë§¤ì†Œë“œì´ë‹¤.    
find()í•¨ìˆ˜ëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ì•„, ë°°ì—´ì˜ ê°ìš”ì†Œì— ëŒ€í•´ ì‹¤í–‰ë˜ë©° ë°˜í™˜ê°’ì´ trueì¸ ê²½ìš° í•´ë‹¹ìš”ì†Œê°€ ë°˜í™˜ëœë‹¤     
ìœ„ì˜ ì½”ë“œì—ì„œëŠ” outPut ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•´ item.titleì´ titleê³¼ ë™ì¼í•œì§€ë¥¼ ë¹„êµí•˜ê³ ,     
ë™ì¼í•œ title ê°’ì„ ê°€ì§„ ê°ì²´ë¥¼ ì°¾ì•„ì„œ exsItem ë³€ìˆ˜ì— ì €ì¥í•œë‹¤.     

---

<br>

### ğŸ“‚ Local Storage : ì‘ìš©ë¬¸ì œ ë‘ë²ˆì§¸

ìƒì„±ëœ ë°°ì—´ì„ ìƒˆë¡œìš´ htmlì— ì¶œë ¥í•´ë³´ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.


```js
    var arr = JSON.parse(localStorage.cart);
    // ê¸°ì¡´ ë°°ì—´ íŒŒì‹±í•˜ì—¬ ë³€ìˆ˜ arr ì— í• ë‹¹
    
    arr.forEach((data, i)=>{
        var divBox = `<p>${arr[i].title}, ${arr[i].num}</p>`;
        $('.cartBox').append(divBox);
        // ë°°ì—´ arrì˜ ê¸¸ì´ë§Œí¼ htmlì— ì¶œë ¥
    });
```

<br>

### âœ¨ ì¶œë ¥í™”ë©´

![image](https://user-images.githubusercontent.com/115879536/230987670-b3fa2b7d-dbc3-4f79-9156-feb0cbce517b.png)

![image](https://user-images.githubusercontent.com/115879536/230987772-568fd362-ecba-4499-b4d8-44e8351c6814.png)
